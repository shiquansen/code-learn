优化排查思路
    1、如果你配置了druid，可在druid页面中直接查看sql执行时间和uri请求时间
    2、在后台代码中用System.currentTimeMillis计算时间差。

    问题所在
    1、sql拼接过长，达到了3000行，有的甚至到8000行，大多都是union all的操作，且有不必要的嵌套查询和查询了不必要的字段
    2、利用explain查看执行计划，where条件中除时间外只有一个字段用到了索引

    1. 70~80s 优化至2~3秒
        1. 多库多表将union all的操作分解（查出来放内存去做拼接）（快了20s）
        2. 将分解的sql异步执行
            CountDownLatch和ExecutorService（又快了20-30s）
        3.skip-name-resolve,（快了4-5s）
        4.根据业务，再加上筛选条件（快4-5s）
        5.因分析过sql优化已经ok了，试想是不是磁盘读写问题。将优化过的程序，分别部署于不同的现场环境。
          一个有ssd，一个没有ssd。发现查询效率悬殊。用软件检测过发现ssd读写速度在700-800M/s,普通机械硬盘读写在70-80M/s。

    优化结果及结论
    优化结果：达到预期。
    优化结论：sql优化不仅仅是对sql本身的优化，还取决于本身硬件条件，其他应用的影响，外加自身代码的优化。


